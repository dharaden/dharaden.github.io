{"title":"Comparing Means: Paired t-tests","markdown":{"yaml":{"title":"Comparing Means: Paired t-tests","subtitle":"PSYC 640 - Fall 2023","author":"Dustin Haraden, PhD","format":{"revealjs":{"multiplex":true,"slide-number":true,"incremental":true,"touch":true,"code-overflow":"wrap","theme":"dark"}},"execute":{"echo":true},"editor":"visual","editor_options":{"chunk_output_type":"console"}},"headingText":"Last week","containsRefs":false,"markdown":"\n\n```{r, include = F}\nknitr::opts_chunk$set(message = FALSE, warning = FALSE)\n```\n\n\n::: nonincremental\n-   Comparing Means: $t$-test\n    -   Independent Samples $t$-test\n:::\n\n```{r, results = 'hide', message = F, warning = F}\nlibrary(lsr)\n# File management\nlibrary(here)\n# for dplyr, ggplot\nlibrary(tidyverse)\n#Loading data\nlibrary(rio)\n# Assumption Checks\nlibrary(car)\n\n#Remove Scientific Notation \noptions(scipen=999)\n\n```\n\n------------------------------------------------------------------------\n\n## Today...\n\n::: nonincremental\n-   Comparing Means with the $t$-test\n\n    ::: nonincremental\n    -   Paired Samples\n    :::\n:::\n\n```{r}\nstate_school <- import(\"https://raw.githubusercontent.com/dharaden/dharaden.github.io/main/courses/PSYC640_fall23/data/NM-NY_CAS.csv\")\n```\n\n# Review: Independent $t$-test\n\n## Independent Samples $t$-test\n\n[Chapter 13.3 in Learning Stats with R](https://learningstatisticswithr.com/book/ttest.html#studentttest)\n\n::: columns\n::: {.column width=\"50%\"}\nTwo different types: Student's & Welch's\n\n::: nonincremental\n-   Student's $t$-test\n-   Welch's $t$-test\n:::\n:::\n\n::: {.column width=\"50%\"}\n$$\nt = \\frac{\\bar{X_1} - \\bar{X_2}}{SE(\\bar{X_1} - \\bar{X_2})}\n$$\n:::\n:::\n\n------------------------------------------------------------------------\n\n## Types of t-Tests: Assumptions\n\n~~Single Samples t-test~~\n\n~~Independent Samples t-test~~\n\n***Paired Samples t-test***\n\n-   Approximately normal distributions\n\n-   Homogeneity of variances\n\n-   ***Spoiler Alert! The same as a one-sample*** $t$***-test***\n\n------------------------------------------------------------------------\n\n## Steps for $t$-test\n\n1.  Check for normality of variables\n    -   Visualizing, Q-Q plots, Statistical Tests\n2.  Homogeneity of Variance\n    -   Levene's test --\\> Welch's $t$-test\n\n------------------------------------------------------------------------\n\n### Student's t-test: In R\n\n::: columns\n::: {.column width=\"50%\"}\n`independentSamplesTest()`\n\n```{r}\nindependentSamplesTTest(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = TRUE #default is FALSE\n)\n```\n:::\n\n::: {.column width=\"50%\"}\n`t.test()`\n\n```{r}\nt.test(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = TRUE\n)\n```\n:::\n:::\n\n------------------------------------------------------------------------\n\n### Welch's t-test: In R\n\n::: columns\n::: {.column width=\"50%\"}\n`independentSamplesTest()`\n\n```{r}\nindependentSamplesTTest(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = FALSE #This is what is different!\n)\n```\n:::\n\n::: {.column width=\"50%\"}\n`t.test()`\n\n```{r}\nt.test(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = FALSE #This is what is different!\n)\n```\n:::\n:::\n\n------------------------------------------------------------------------\n\n### Interpreting and writing up an independent samples t-test\n\n::: {style=\"font-size: 30px\"}\nThe first sentence usually conveys some descriptive information about the two groups you were comparing. Then you identify the type of test you conducted and what was determined (be sure to include the \"stat block\" here as well with the t-statistic, df, p-value, CI and Effect size). Finish it up by putting that into person words and saying what that means.\n:::\n\n> ::: {style=\"font-size: 30px\"}\n> The mean amount of sleep in New Mexico for youth was 6.989 (SD = 1.379), while the mean in New York was 6.994 (SD = 1.512). A Student's independent samples t-test showed that there was not a significant mean difference (*t*(180)=-0.024, *p*=.981, $CI_{95}$=\\[-0.43, 0.42\\], *d*=.004). This suggests that there is no difference between youth in NM and NY on amount of sleep on school nights.\n> :::\n\n# Today: Paired Samples\n\n## Paired Samples $t$-Test\n\n[Chapter 13.5 - Learning Stats with R](https://learningstatisticswithr.com/book/ttest.html#pairedsamplesttest)\n\nAlso called \"Dependent Samples t-test\"\n\n-   We have been testing means between two *independent* samples. Participants may be randomly assigned to the separate groups\n\n    -   This is limited to those types of study designs, but what if we have repeated measures?\n\n-   We will then need to compare scores across people...the samples we are comparing now *depend* on one another and are *paired*\n\n------------------------------------------------------------------------\n\n### Paired Samples $t$-test\n\nEach of the repeated measures (or pairs) can be viewed as a *difference score*\n\nThis reduces the analysis to a one-sample t-test of the *difference score*\n\n-   We are comparing the sample (i.e., difference scores) to a population $\\mu$ = 0\n\n------------------------------------------------------------------------\n\n### Assumptions: Paired Samples\n\nThe variable of interest (*difference scores*):\n\n-   Continuous (Interval/Ratio)\n\n-   Have 2 groups (and only two groups) that are matched\n\n-   Normally Distributed\n\n------------------------------------------------------------------------\n\n### Why paired samples??\n\nPreviously, we looked at independent samples $t$-tests, which we *could* do here as well (nobody will yell at you)\n\n-   However, this would violate the assumption that the data points are independent of one another!\n\n-   Within vs. Between-subjects\n\n------------------------------------------------------------------------\n\n### Within vs. Between Subjects\n\n![](/images/between-subjects-design.avif){fig-align=\"center\"}\n\n------------------------------------------------------------------------\n\n### Paired Samples: Single Sample\n\nInstead of focusing on these variables as being separate/independent, we need to be able to account for their dependency on one another\n\nThis is done by calculating a *difference* or *change* score for each participant\n\n$$ D_i = X_{i1} - X_{i2} $$\n\nNotice: The equation is set up as `variable1` minus `variable2`. This will be important when we interpret the results\n\n------------------------------------------------------------------------\n\n### Paired Samples: Hypotheses & $t$-statistic\n\nThe hypotheses would then be:\n\n$$ H_0:  \\mu_D = 0; H_1: \\mu_D \\neq 0 $$\n\nAnd to calculate our t-statistic:       $t_{df=n-1} = \\frac{\\bar{D}}{SE(D)}$\n\nwhere the Standard Error of the difference score is:        $\\frac{\\hat{\\sigma_D}}{\\sqrt{N}}$\n\n------------------------------------------------------------------------\n\n## Review of the t-test process\n\n1.  Collect Sample and define hypotheses\n\n2.  Set alpha level\n\n3.  Determine the sampling distribution ($t$ distribution for now)\n\n4.  Identify the critical value that corresponds to alpha and *df*\n\n5.  Calculate test statistic for sample collected\n\n6.  Inspect & compare statistic to critical value; Calculate probability\n\n# Example 1: Simple\n\nParticipants are placed in two differently colored rooms and are asked to rate overall happiness levels after each\n\nHypotheses:\n\n-   $H_0:$ There is no difference in ratings of happiness between the rooms ( $\\mu = 0$ )\n\n-   $H_1:$ There is a difference in ratings of happiness between the rooms ( $\\mu \\neq 0$ )\n\n------------------------------------------------------------------------\n\n| Participant | Blue Room Score | Orange Room Score | Difference ($X_{iB} - X_{iO}$) |\n|:--------------:|:--------------:|:--------------:|:------------------------:|\n|      1      |        3        |         6         |               -3               |\n|      2      |        9        |         9         |               0                |\n|      3      |        2        |        10         |               -8               |\n|      4      |        9        |         6         |               3                |\n|      5      |        5        |         2         |               3                |\n|      6      |        5        |         7         |               -2               |\n\n```{r}\n#| code-fold: true\nex1 <- data.frame(\n  id = c(1,2,3,4,5,6),\n  blue = c(3,9,2,9,5,5), \n  orange = c(6,9,10,6,2,7),\n  diff_score = c(-3, 0, -8, 3, 3, -2))\n```\n\n------------------------------------------------------------------------\n\n## Determining $t$-crit\n\nCan look things up using a [t-table](https://www.tdistributiontable.com/) where you need the degrees of freedom and the alpha\n\nBut we have R to do those things for us:\n\n```{r}\n#the qt() function is for a 1 tailed test, so we are having to divide it in half to get both tails\nalpha <- 0.05\nn <- nrow(ex1)\nt_crit <- qt(alpha/2, n-1)\nt_crit\n```\n\n## Calculating t\n\nLet's get all of the information for the sample we are focusing on (difference scores):\n\n```{r}\nd <- mean(ex1$diff_score)\nd\nsd_diff <- sd(ex1$diff_score)\nsd_diff\n```\n\n## Calculating t\n\nNow we can calculate our $t$-statistic: $$t_{df=n-1} = \\frac{\\bar{D}}{\\frac{sd_{diff}}{\\sqrt{n}}}$$\n\n```{r}\nt_stat <- d/(sd_diff/(sqrt(n)))\nt_stat\n\n#Probability of this t-statistic \np_val <- pt(t_stat, n-1)*2\np_val\n```\n\n## Make a decision\n\nHypotheses:\n\n::: nonincremental\n-   $H_0:$ There is no difference in ratings of happiness between the rooms ( $\\mu = 0$ )\n\n-   $H_1:$ There is a difference in ratings of happiness between the rooms ( $\\mu \\neq 0$ )\n:::\n\n| $alpha$ |          $t-crit$          |    $t-statistic$     |      $p-value$      |\n|:--------------:|:---------------------:|:----------------:|:---------------:|\n|  0.05   | $\\pm$ `r round(t_crit, 2)` | `r round(t_stat, 2)` | `r round(p_val, 2)` |\n\n**What can we conclude??**\n\n# Example 2: Data in R\n\nWe will use the same dataset that we have in the last few classes\n\n```{r, eval=FALSE}\nstate_school <- import(\"https://raw.githubusercontent.com/dharaden/dharaden.github.io/main/courses/PSYC640_fall23/data/NM-NY_CAS.csv\")\n```\n\n## Let's Look at the data\n\nResearch Question: Is there a difference between school nights and weekend nights for amount of time slept?\n\nOnly looking at the variables that we are potentially interested in:\n\n```{r}\nstate_school %>% \n  select(Gender, Ageyears, Sleep_Hours_Schoolnight, Sleep_Hours_Non_Schoolnight) %>% \n  head() #look at first few observations\n```\n\n------------------------------------------------------------------------\n\n### Difference Score\n\n::: {style=\"font-size: 30px\"}\nThis can be done in a couple different ways and sometimes you will see things computed this way:\n:::\n\n```{r, eval = FALSE}\nstate_school$sleep_diff <- state_school$Sleep_Hours_Schoolnight - state_school$Sleep_Hours_Non_Schoolnight\n```\n\n::: {style=\"font-size: 30px\"}\nHowever, we like the `tidyverse` so why don't we use the `mutate()` function\n\nAnd I always overdo things, so I am going to make a new dataset that only has the variables that I'm interested in (`sleep_state_school`)\n:::\n\n```{r}\n#| code-fold: true\nsleep_state_school <- state_school %>% \n  mutate(sleep_diff = Sleep_Hours_Schoolnight - Sleep_Hours_Non_Schoolnight) %>%\n  select(Gender, Ageyears, Sleep_Hours_Schoolnight,\n         Sleep_Hours_Non_Schoolnight, sleep_diff)\n\nhead(sleep_state_school)\n```\n\n------------------------------------------------------------------------\n\n### Visualizing\n\nNow that we have our variable of interest, let's take a look at it!\n\n```{r}\nsleep_state_school %>%\n  ggplot(aes(sleep_diff)) + \n  geom_histogram()\n```\n\n## Doing the test in R: One Sample\n\nSince we have calculated the difference scores, we can basically just do a one-sample t-test with the `lsr` library\n\n```{r}\noneSampleTTest(sleep_state_school$sleep_diff, mu = 0)\n```\n\n## Doing the test in R: Paired Sample\n\nMaybe we want to keep things separate and don't want to calculate separate values. We can use `pairedSamplesTTest()` instead!\n\n```{r}\npairedSamplesTTest(\n  formula = ~ Sleep_Hours_Schoolnight + Sleep_Hours_Non_Schoolnight, \n  data = sleep_state_school\n)\n```\n\n## Doing the test in R: Classic Edition\n\nAs you Google around to figure things out, you will likely see folks using \\`t.test()\n\n```{r}\nt.test(\n  x = sleep_state_school$Sleep_Hours_Schoolnight, \n  y = sleep_state_school$Sleep_Hours_Non_Schoolnight, \n  paired = TRUE\n)\n```\n\n## Reporting $t$-test\n\nThe first sentence usually conveys some descriptive information about the sample you were comparing (e.g., pre & post test).\n\nThen you identify the type of test you conducted and what was determined (be sure to include the \"stat block\" here as well with the t-statistic, df, p-value, CI and Effect size).\n\nFinish it up by putting that into person words and saying what that means.\n\n# Common Mistakes and Pitfalls\n\n-   **Misinterpreting p-Values**\n\n-   **Violations of Assumptions**\n\n-   **Sample Size Considerations**\n\n-   **Multiple Testing Issues**\n\n------------------------------------------------------------------------\n\n## If we have time: Example 3 - Dog Training\n\nA dog trainer wants to know if dogs are faster at an agility course if a jump is early in the course or later. She has a sample of dogs from her classes run both courses and measures their finish times. Half the class runs the early barrier version on Tuesday, half the class runs the early barrier version on Thursday. Is there a significant difference between course types (alpha = 0.05)?\n\n# Next time...\n\n-   Visualizing with ggplot\n\n-   Parameterization of reports (not using \"magic numbers\")\n","srcMarkdownNoYaml":"\n\n```{r, include = F}\nknitr::opts_chunk$set(message = FALSE, warning = FALSE)\n```\n\n## Last week\n\n::: nonincremental\n-   Comparing Means: $t$-test\n    -   Independent Samples $t$-test\n:::\n\n```{r, results = 'hide', message = F, warning = F}\nlibrary(lsr)\n# File management\nlibrary(here)\n# for dplyr, ggplot\nlibrary(tidyverse)\n#Loading data\nlibrary(rio)\n# Assumption Checks\nlibrary(car)\n\n#Remove Scientific Notation \noptions(scipen=999)\n\n```\n\n------------------------------------------------------------------------\n\n## Today...\n\n::: nonincremental\n-   Comparing Means with the $t$-test\n\n    ::: nonincremental\n    -   Paired Samples\n    :::\n:::\n\n```{r}\nstate_school <- import(\"https://raw.githubusercontent.com/dharaden/dharaden.github.io/main/courses/PSYC640_fall23/data/NM-NY_CAS.csv\")\n```\n\n# Review: Independent $t$-test\n\n## Independent Samples $t$-test\n\n[Chapter 13.3 in Learning Stats with R](https://learningstatisticswithr.com/book/ttest.html#studentttest)\n\n::: columns\n::: {.column width=\"50%\"}\nTwo different types: Student's & Welch's\n\n::: nonincremental\n-   Student's $t$-test\n-   Welch's $t$-test\n:::\n:::\n\n::: {.column width=\"50%\"}\n$$\nt = \\frac{\\bar{X_1} - \\bar{X_2}}{SE(\\bar{X_1} - \\bar{X_2})}\n$$\n:::\n:::\n\n------------------------------------------------------------------------\n\n## Types of t-Tests: Assumptions\n\n~~Single Samples t-test~~\n\n~~Independent Samples t-test~~\n\n***Paired Samples t-test***\n\n-   Approximately normal distributions\n\n-   Homogeneity of variances\n\n-   ***Spoiler Alert! The same as a one-sample*** $t$***-test***\n\n------------------------------------------------------------------------\n\n## Steps for $t$-test\n\n1.  Check for normality of variables\n    -   Visualizing, Q-Q plots, Statistical Tests\n2.  Homogeneity of Variance\n    -   Levene's test --\\> Welch's $t$-test\n\n------------------------------------------------------------------------\n\n### Student's t-test: In R\n\n::: columns\n::: {.column width=\"50%\"}\n`independentSamplesTest()`\n\n```{r}\nindependentSamplesTTest(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = TRUE #default is FALSE\n)\n```\n:::\n\n::: {.column width=\"50%\"}\n`t.test()`\n\n```{r}\nt.test(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = TRUE\n)\n```\n:::\n:::\n\n------------------------------------------------------------------------\n\n### Welch's t-test: In R\n\n::: columns\n::: {.column width=\"50%\"}\n`independentSamplesTest()`\n\n```{r}\nindependentSamplesTTest(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = FALSE #This is what is different!\n)\n```\n:::\n\n::: {.column width=\"50%\"}\n`t.test()`\n\n```{r}\nt.test(\n  formula = Sleep_Hours_Schoolnight ~ Region, \n  data = state_school, \n  var.equal = FALSE #This is what is different!\n)\n```\n:::\n:::\n\n------------------------------------------------------------------------\n\n### Interpreting and writing up an independent samples t-test\n\n::: {style=\"font-size: 30px\"}\nThe first sentence usually conveys some descriptive information about the two groups you were comparing. Then you identify the type of test you conducted and what was determined (be sure to include the \"stat block\" here as well with the t-statistic, df, p-value, CI and Effect size). Finish it up by putting that into person words and saying what that means.\n:::\n\n> ::: {style=\"font-size: 30px\"}\n> The mean amount of sleep in New Mexico for youth was 6.989 (SD = 1.379), while the mean in New York was 6.994 (SD = 1.512). A Student's independent samples t-test showed that there was not a significant mean difference (*t*(180)=-0.024, *p*=.981, $CI_{95}$=\\[-0.43, 0.42\\], *d*=.004). This suggests that there is no difference between youth in NM and NY on amount of sleep on school nights.\n> :::\n\n# Today: Paired Samples\n\n## Paired Samples $t$-Test\n\n[Chapter 13.5 - Learning Stats with R](https://learningstatisticswithr.com/book/ttest.html#pairedsamplesttest)\n\nAlso called \"Dependent Samples t-test\"\n\n-   We have been testing means between two *independent* samples. Participants may be randomly assigned to the separate groups\n\n    -   This is limited to those types of study designs, but what if we have repeated measures?\n\n-   We will then need to compare scores across people...the samples we are comparing now *depend* on one another and are *paired*\n\n------------------------------------------------------------------------\n\n### Paired Samples $t$-test\n\nEach of the repeated measures (or pairs) can be viewed as a *difference score*\n\nThis reduces the analysis to a one-sample t-test of the *difference score*\n\n-   We are comparing the sample (i.e., difference scores) to a population $\\mu$ = 0\n\n------------------------------------------------------------------------\n\n### Assumptions: Paired Samples\n\nThe variable of interest (*difference scores*):\n\n-   Continuous (Interval/Ratio)\n\n-   Have 2 groups (and only two groups) that are matched\n\n-   Normally Distributed\n\n------------------------------------------------------------------------\n\n### Why paired samples??\n\nPreviously, we looked at independent samples $t$-tests, which we *could* do here as well (nobody will yell at you)\n\n-   However, this would violate the assumption that the data points are independent of one another!\n\n-   Within vs. Between-subjects\n\n------------------------------------------------------------------------\n\n### Within vs. Between Subjects\n\n![](/images/between-subjects-design.avif){fig-align=\"center\"}\n\n------------------------------------------------------------------------\n\n### Paired Samples: Single Sample\n\nInstead of focusing on these variables as being separate/independent, we need to be able to account for their dependency on one another\n\nThis is done by calculating a *difference* or *change* score for each participant\n\n$$ D_i = X_{i1} - X_{i2} $$\n\nNotice: The equation is set up as `variable1` minus `variable2`. This will be important when we interpret the results\n\n------------------------------------------------------------------------\n\n### Paired Samples: Hypotheses & $t$-statistic\n\nThe hypotheses would then be:\n\n$$ H_0:  \\mu_D = 0; H_1: \\mu_D \\neq 0 $$\n\nAnd to calculate our t-statistic:       $t_{df=n-1} = \\frac{\\bar{D}}{SE(D)}$\n\nwhere the Standard Error of the difference score is:        $\\frac{\\hat{\\sigma_D}}{\\sqrt{N}}$\n\n------------------------------------------------------------------------\n\n## Review of the t-test process\n\n1.  Collect Sample and define hypotheses\n\n2.  Set alpha level\n\n3.  Determine the sampling distribution ($t$ distribution for now)\n\n4.  Identify the critical value that corresponds to alpha and *df*\n\n5.  Calculate test statistic for sample collected\n\n6.  Inspect & compare statistic to critical value; Calculate probability\n\n# Example 1: Simple\n\nParticipants are placed in two differently colored rooms and are asked to rate overall happiness levels after each\n\nHypotheses:\n\n-   $H_0:$ There is no difference in ratings of happiness between the rooms ( $\\mu = 0$ )\n\n-   $H_1:$ There is a difference in ratings of happiness between the rooms ( $\\mu \\neq 0$ )\n\n------------------------------------------------------------------------\n\n| Participant | Blue Room Score | Orange Room Score | Difference ($X_{iB} - X_{iO}$) |\n|:--------------:|:--------------:|:--------------:|:------------------------:|\n|      1      |        3        |         6         |               -3               |\n|      2      |        9        |         9         |               0                |\n|      3      |        2        |        10         |               -8               |\n|      4      |        9        |         6         |               3                |\n|      5      |        5        |         2         |               3                |\n|      6      |        5        |         7         |               -2               |\n\n```{r}\n#| code-fold: true\nex1 <- data.frame(\n  id = c(1,2,3,4,5,6),\n  blue = c(3,9,2,9,5,5), \n  orange = c(6,9,10,6,2,7),\n  diff_score = c(-3, 0, -8, 3, 3, -2))\n```\n\n------------------------------------------------------------------------\n\n## Determining $t$-crit\n\nCan look things up using a [t-table](https://www.tdistributiontable.com/) where you need the degrees of freedom and the alpha\n\nBut we have R to do those things for us:\n\n```{r}\n#the qt() function is for a 1 tailed test, so we are having to divide it in half to get both tails\nalpha <- 0.05\nn <- nrow(ex1)\nt_crit <- qt(alpha/2, n-1)\nt_crit\n```\n\n## Calculating t\n\nLet's get all of the information for the sample we are focusing on (difference scores):\n\n```{r}\nd <- mean(ex1$diff_score)\nd\nsd_diff <- sd(ex1$diff_score)\nsd_diff\n```\n\n## Calculating t\n\nNow we can calculate our $t$-statistic: $$t_{df=n-1} = \\frac{\\bar{D}}{\\frac{sd_{diff}}{\\sqrt{n}}}$$\n\n```{r}\nt_stat <- d/(sd_diff/(sqrt(n)))\nt_stat\n\n#Probability of this t-statistic \np_val <- pt(t_stat, n-1)*2\np_val\n```\n\n## Make a decision\n\nHypotheses:\n\n::: nonincremental\n-   $H_0:$ There is no difference in ratings of happiness between the rooms ( $\\mu = 0$ )\n\n-   $H_1:$ There is a difference in ratings of happiness between the rooms ( $\\mu \\neq 0$ )\n:::\n\n| $alpha$ |          $t-crit$          |    $t-statistic$     |      $p-value$      |\n|:--------------:|:---------------------:|:----------------:|:---------------:|\n|  0.05   | $\\pm$ `r round(t_crit, 2)` | `r round(t_stat, 2)` | `r round(p_val, 2)` |\n\n**What can we conclude??**\n\n# Example 2: Data in R\n\nWe will use the same dataset that we have in the last few classes\n\n```{r, eval=FALSE}\nstate_school <- import(\"https://raw.githubusercontent.com/dharaden/dharaden.github.io/main/courses/PSYC640_fall23/data/NM-NY_CAS.csv\")\n```\n\n## Let's Look at the data\n\nResearch Question: Is there a difference between school nights and weekend nights for amount of time slept?\n\nOnly looking at the variables that we are potentially interested in:\n\n```{r}\nstate_school %>% \n  select(Gender, Ageyears, Sleep_Hours_Schoolnight, Sleep_Hours_Non_Schoolnight) %>% \n  head() #look at first few observations\n```\n\n------------------------------------------------------------------------\n\n### Difference Score\n\n::: {style=\"font-size: 30px\"}\nThis can be done in a couple different ways and sometimes you will see things computed this way:\n:::\n\n```{r, eval = FALSE}\nstate_school$sleep_diff <- state_school$Sleep_Hours_Schoolnight - state_school$Sleep_Hours_Non_Schoolnight\n```\n\n::: {style=\"font-size: 30px\"}\nHowever, we like the `tidyverse` so why don't we use the `mutate()` function\n\nAnd I always overdo things, so I am going to make a new dataset that only has the variables that I'm interested in (`sleep_state_school`)\n:::\n\n```{r}\n#| code-fold: true\nsleep_state_school <- state_school %>% \n  mutate(sleep_diff = Sleep_Hours_Schoolnight - Sleep_Hours_Non_Schoolnight) %>%\n  select(Gender, Ageyears, Sleep_Hours_Schoolnight,\n         Sleep_Hours_Non_Schoolnight, sleep_diff)\n\nhead(sleep_state_school)\n```\n\n------------------------------------------------------------------------\n\n### Visualizing\n\nNow that we have our variable of interest, let's take a look at it!\n\n```{r}\nsleep_state_school %>%\n  ggplot(aes(sleep_diff)) + \n  geom_histogram()\n```\n\n## Doing the test in R: One Sample\n\nSince we have calculated the difference scores, we can basically just do a one-sample t-test with the `lsr` library\n\n```{r}\noneSampleTTest(sleep_state_school$sleep_diff, mu = 0)\n```\n\n## Doing the test in R: Paired Sample\n\nMaybe we want to keep things separate and don't want to calculate separate values. We can use `pairedSamplesTTest()` instead!\n\n```{r}\npairedSamplesTTest(\n  formula = ~ Sleep_Hours_Schoolnight + Sleep_Hours_Non_Schoolnight, \n  data = sleep_state_school\n)\n```\n\n## Doing the test in R: Classic Edition\n\nAs you Google around to figure things out, you will likely see folks using \\`t.test()\n\n```{r}\nt.test(\n  x = sleep_state_school$Sleep_Hours_Schoolnight, \n  y = sleep_state_school$Sleep_Hours_Non_Schoolnight, \n  paired = TRUE\n)\n```\n\n## Reporting $t$-test\n\nThe first sentence usually conveys some descriptive information about the sample you were comparing (e.g., pre & post test).\n\nThen you identify the type of test you conducted and what was determined (be sure to include the \"stat block\" here as well with the t-statistic, df, p-value, CI and Effect size).\n\nFinish it up by putting that into person words and saying what that means.\n\n# Common Mistakes and Pitfalls\n\n-   **Misinterpreting p-Values**\n\n-   **Violations of Assumptions**\n\n-   **Sample Size Considerations**\n\n-   **Multiple Testing Issues**\n\n------------------------------------------------------------------------\n\n## If we have time: Example 3 - Dog Training\n\nA dog trainer wants to know if dogs are faster at an agility course if a jump is early in the course or later. She has a sample of dogs from her classes run both courses and measures their finish times. Half the class runs the early barrier version on Tuesday, half the class runs the early barrier version on Thursday. Is there a significant difference between course types (alpha = 0.05)?\n\n# Next time...\n\n-   Visualizing with ggplot\n\n-   Parameterization of reports (not using \"magic numbers\")\n"},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","incremental":true,"output-file":"08_ComparingMeans2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.3.433","auto-stretch":true,"editor":"visual","title":"Comparing Means: Paired t-tests","subtitle":"PSYC 640 - Fall 2023","author":"Dustin Haraden, PhD","editor_options":{"chunk_output_type":"console"},"multiplex":true,"slideNumber":true,"touch":true,"theme":"dark"}}},"projectFormats":["html"]}